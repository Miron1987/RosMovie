@model IEnumerable<RosMovies.Models.Review>
@using RosMovies.Models


@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

@*@Model.Name*@
<div>@ViewBag.Movie.Name</div>


@foreach(var review in Model)
{
    <div class="container">
        <p>
        <div class="text">
            @review.MovieReview
        </div>
        <div class="info">
            <div class="container">
                <div class="col-md-1">@review.UserName</div>
                <div class="col-md-1">@review.UserLastName</div>
                <div class="col-md-1">@review.DateCom</div>
            </div>
        </div>
        </p>
    </div>
    
}

@if (Request.IsAuthenticated)
{

    using (Html.BeginForm("Details", "Movie", FormMethod.Post, new { review = new Review { } }))
        {
                <input type="hidden" value="@ViewBag.Movie.Id" name="MovieId" />
                <input type="hidden" value="@ViewBag.User.FirstName" name="UserName" />
                <input type="hidden" value="@ViewBag.User.LastName" name="UserLastName" />
                <input type="hidden" value="@DateTime.Now" name="DateCom" />
                <p>Комментарий: </p>
                @*@Html.TextBox("MovieReview", "Ваш комментарий", new { @class = "myId", id = "myId" })*@
                @Html.TextArea("MovieReview", "Введите не более 250 символов", 15, 250, new { @class = "myId", id = "myId" })
                <p>Введите адрес :</p>
                @Html.ListBox("Score", new MultiSelectList(new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }))

                <p><input type="submit" value="Отправить" id="myButtomId"  class="myButtomId" /></p>
        }
}

@section Scripts {
    @Scripts.Render("~/Scripts/valid.js")
}
