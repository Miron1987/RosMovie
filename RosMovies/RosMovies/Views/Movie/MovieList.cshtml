
@model PagedList.IPagedList<RosMovies.Models.Movie>
@using PagedList.Mvc;
@using RosMovies.Models;

@{
    ViewBag.Title = "Список фильмов";
}

<h2>Список фильмов</h2>



<div class="row">
    <div class="col-sm-3" style="padding-top:15px;">
        Поиск по названию:
    </div>
    <div class="col-md-2" style="padding-top:15px;">
        Поиск по режиссеру:
    </div>
    <div class="col-md-2" style="padding-top:15px;">
        Поиск по актерам:
    </div>
    <div class="col-md-2" style="padding-top:15px;">
        Поиск по жанру
    </div>
</div>

<div class="row">
    @using (Html.BeginForm("MovieList", "Movie", FormMethod.Post))
    {
        <div class="row">
            <div class="col-sm-3" style="padding-top:15px;">
            
                <input class="form-control" id="movieName" name="movieName" type="text" value="Поиск по названию"/>
            </div>
            <div class="col-md-2" style="padding-top:15px;">
                <input class="form-control"  id="movieDirector" name="movieDirector" type="text" value="Поиск по режиссеру"/>
            </div>
            <div class="col-md-2" style="padding-top:15px;">
                <input class="form-control" id="movieActor" name="movieActor" type="text" value="Поиск по актерам"/>
            </div>
            <div class="col-md-2" style="padding-top:15px;">
                <input class="form-control" id="movieGenre" name="movieGenre" type="text" value="Поиск по жанру"/>
            </div>
            <div class="col-md-2" style="padding-left: 100px; padding-top: 15px; padding-bottom: 10px;">
                <button class="btn btn-default" name="show" id="botShow">Отправить</button>
            </div>
        </div>
    }
</div>


<div>
    @foreach (var movie in Model)
    {
        <hr/>
        <div class="container">
            <div class="col-md-3"><h4>@movie.Name</h4></div>
            <div class="col-md-3"><h5>Режиссер: </h5>@movie.Director</div>
            <div class="col-md-4">Актеры: @movie.Actors</div>
            <div class="col-md-2">Жанр: @movie.Genre</div>
        </div>
        <div class="container">
            <div class="col-md-2">
                @Html.ActionLink("Подробнее", "Details", "Movie", new { id = @movie.Id }, null)
            </div>
            <div class="col-md-2">
                @if (Request.IsAuthenticated)
                {
                    @Html.ActionLink("В избранное", "AddFavorite", "User", new { id = movie.Id }, new { id = movie.Id })
                }
            </div>
        </div>
        <hr/>
        <div class="container">
            <div class="col-md-12">@movie.Description</div>
        </div>
            }
        </div>

@Html.PagedListPager(Model, page => Url.Action("MovieList", "Movie", new { page, movieName = ViewBag.MovieName, movieDirector = ViewBag.Moviedirector, movieActor = ViewBag.MovieActor, movieGenre = ViewBag.MovieGenre}))

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
